# Тестовое задание в компанию _"ООО БУЛАТ"_

## Задание

Задание пока что не прикрепляю, чтобы случайно не распространить решение.

## Реализовано

- [x] Сборка приложения в контейнеры;
- [x] Миграции для базы данных;
- [x] gRPC-приложение;
- [ ] Тестирование;

## Запуск

```shell 
docker compose --project-name test --file deployment/docker-compose.yaml up
```

### Переменные окружения

|    Переменная    | Обязательная | Описание                           | Значение по умолчанию |
|:----------------:|:------------:|------------------------------------|-----------------------|
|     DB_USER      |      Да      | Пользователь для подключения к БД. | `test`                |
|   DB_PASSWORD    |      Да      | Пароль для подключения к БД.       | `test`                |
|     DB_HOST      |      Да      | Хост для подключения к БД.         | `localhost`           |
|     DB_PORT      |      Да      | Порт для подключения к БД.         | `6432`                |
|   DB_DATABASE    |      Да      | Название БД для подключения к БД.  | `postgres`            |
| APPLICATION_HOST |     Нет      | Хост приложения.                   | `0.0.0.0`             |
| APPLICATION_PORT |     Нет      | Порт приложения.                   | `50501`               |

## Миграции

Мне не хотелось иметь зависимость от SQLAlchemy и Alembic, поэтому миграции написаны и применяются вручную.
После того как база данных поднялась, требуется применить миграции:

1. [1_create_transaction_table.sql](migrations%2Fadd_transaction_table.sql);
2. [2_populate_transaction_table.sql](migrations%2F2_populate_transaction_table.sql)

## Корректно выполненный запрос

![img.png](assets/postman.png)